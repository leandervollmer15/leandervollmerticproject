<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ğŸ”¥ El Quiz Definitivo ğŸ”¥</title>
<style>
  * { box-sizing: border-box; }
  body {
    font-family: "Poppins", sans-serif;
    margin: 0;
    background: radial-gradient(circle at top left, #ffb6b9, #fae3d9, #bbded6, #8ac6d1);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 100vh;
  }
  .card {
    background: white;
    padding: 25px 40px;
    border-radius: 20px;
    box-shadow: 0 0 25px rgba(0,0,0,0.15);
    max-width: 600px;
    width: 90%;
    text-align: center;
    animation: fadeIn 0.6s ease;
  }
  h1 {
    font-size: 2em;
    color: #222;
  }
  button {
    background-color: #4a90e2;
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 8px;
    margin: 8px;
    cursor: pointer;
    transition: 0.3s;
  }
  button:hover { transform: scale(1.05); }
  .hidden { display: none; }
  .answers button {
    background: #f0f0f0;
    color: #222;
    width: 100%;
    margin: 6px 0;
  }
  .correct { background: #9ef79e !important; }
  .wrong { background: #f79e9e !important; }
  .reaction {
    font-style: italic;
    color: #555;
    margin-top: 10px;
    min-height: 25px;
    animation: fadeIn 0.5s ease;
  }
  .progress {
    color: #666;
    margin: 10px 0;
    font-size: 0.9em;
  }
  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }
  .shake {
    animation: shake 0.4s;
  }
  @keyframes shake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-5px); }
    50% { transform: translateX(5px); }
    75% { transform: translateX(-5px); }
  }
</style>
</head>
<body>

<div class="card" id="menu">
  <h1>ğŸ”¥ El Quiz Definitivo ğŸ”¥</h1>
  <p>Â¿Listo para demostrar tu sabidurÃ­a (o reÃ­rte un poco)?</p>
  <p>Elige un tema:</p>
  <button onclick="iniciar('cultura')">ğŸŒ Cultura General</button>
  <button onclick="iniciar('ciencia')">ğŸ”¬ Ciencia</button>
  <button onclick="iniciar('humor')">ğŸ˜‚ Humor</button>
</div>

<div class="card hidden" id="quiz">
  <div class="progress" id="progreso"></div>
  <div id="pregunta" class="question"></div>
  <div id="respuestas" class="answers"></div>
  <div id="reaccion" class="reaction"></div>
  <button id="siguiente" class="hidden">Siguiente â¡ï¸</button>
</div>

<div class="card hidden" id="resultado">
  <h1>ğŸ‰ Â¡Fin del quiz!</h1>
  <p id="mensajeFinal"></p>
  <button onclick="volverMenu()">Volver al menÃº ğŸ”„</button>
</div>

<script>
  const preguntas = {
    cultura: [
      { q: "Â¿CuÃ¡l es el paÃ­s mÃ¡s grande del mundo?", a: ["China", "CanadÃ¡", "Rusia", "EE.UU."], c: 2 },
      { q: "Â¿QuiÃ©n pintÃ³ la Mona Lisa?", a: ["Van Gogh", "Picasso", "Da Vinci", "DalÃ­"], c: 2 },
      { q: "Â¿DÃ³nde estÃ¡ Egipto?", a: ["Asia", "Europa", "Ãfrica", "AmÃ©rica"], c: 2 }
    ],
    ciencia: [
      { q: "Â¿QuÃ© planeta es conocido como el planeta rojo?", a: ["JÃºpiter", "Venus", "Marte", "Saturno"], c: 2 },
      { q: "Â¿CuÃ¡l es la fÃ³rmula del agua?", a: ["H2O", "CO2", "NaCl", "O2"], c: 0 },
      { q: "Â¿QuÃ© gas respiramos para vivir?", a: ["NitrÃ³geno", "OxÃ­geno", "DiÃ³xido de carbono", "Helio"], c: 1 }
    ],
    humor: [
      { q: "Â¿QuÃ© animal hace 'miau'?", a: ["Un perro", "Un gato", "Tu profe", "Una vaca"], c: 1 },
      { q: "Â¿QuÃ© tiene dientes pero no muerde?", a: ["Un peine", "Tu abuela", "Un tiburÃ³n", "Una cuchara"], c: 0 },
      { q: "Â¿Por quÃ© el libro de matemÃ¡ticas estÃ¡ triste?", a: ["Tiene demasiados problemas", "No sabe contar", "Nadie lo lee", "PerdiÃ³ la raÃ­z"], c: 0 }
    ]
  };

  const reaccionesMal = [
    "ğŸ’€ Â¿En serio? Era facilÃ­simo.",
    "ğŸ˜‚ Hasta mi abuela sabÃ­a eso.",
    "ğŸ™ˆ Upsâ€¦ alguien no estudiÃ³.",
    "ğŸ¤“ Te prometo que la prÃ³xima sale mejor.",
    "ğŸ˜… Esa doliÃ³, bro."
  ];
  const reaccionesBien = [
    "ğŸ”¥ Â¡Boom! Eres un genio.",
    "ğŸ‘ Muy bien, crack.",
    "ğŸ’ª Â¡AsÃ­ se hace!",
    "ğŸ˜ Claramente un maestro del conocimiento.",
    "ğŸ§  Inteligencia pura."
  ];

  let categoria = "";
  let indice = 0;
  let puntos = 0;
  let lista = [];

  const menu = document.getElementById("menu");
  const quiz = document.getElementById("quiz");
  const resultado = document.getElementById("resultado");
  const preguntaEl = document.getElementById("pregunta");
  const respuestasEl = document.getElementById("respuestas");
  const reaccionEl = document.getElementById("reaccion");
  const progresoEl = document.getElementById("progreso");
  const siguienteBtn = document.getElementById("siguiente");
  const mensajeFinal = document.getElementById("mensajeFinal");

  function iniciar(cat) {
    categoria = cat;
    lista = preguntas[categoria];
    indice = 0;
    puntos = 0;
    menu.classList.add("hidden");
    quiz.classList.remove("hidden");
    mostrarPregunta();
  }

  function mostrarPregunta() {
    siguienteBtn.classList.add("hidden");
    reaccionEl.textContent = "";
    respuestasEl.innerHTML = "";
    const actual = lista[indice];
    preguntaEl.textContent = actual.q;
    progresoEl.textContent = `Pregunta ${indice + 1} de ${lista.length}`;

    actual.a.forEach((texto, i) => {
      const btn = document.createElement("button");
      btn.textContent = texto;
      btn.onclick = () => seleccionar(i, btn);
      respuestasEl.appendChild(btn);
    });
  }

  function seleccionar(indiceOpcion, boton) {
    const actual = lista[indice];
    const botones = respuestasEl.querySelectorAll("button");
    botones.forEach((b, i) => {
      b.disabled = true;
      if (i === actual.c) b.classList.add("correct");
      else if (i === indiceOpcion && i !== actual.c) b.classList.add("wrong");
    });

    if (indiceOpcion === actual.c) {
      puntos++;
      reaccionEl.textContent = reaccionesBien[Math.floor(Math.random()*reaccionesBien.length)];
    } else {
      reaccionEl.textContent = reaccionesMal[Math.floor(Math.random()*reaccionesMal.length)];
      quiz.classList.add("shake");
      setTimeout(()=>quiz.classList.remove("shake"),400);
    }

    siguienteBtn.classList.remove("hidden");
  }

  siguienteBtn.onclick = () => {
    indice++;
    if (indice < lista.length) mostrarPregunta();
    else mostrarResultado();
  };

  function mostrarResultado() {
    quiz.classList.add("hidden");
    resultado.classList.remove("hidden");
    const total = lista.length;
    const mensaje = puntos === total ? 
      "ğŸ’¯ Â¡Perfecto! Eres imparable." :
      puntos > total/2 ? 
      `ğŸ‘ Nada mal. Has acertado ${puntos} de ${total}.` :
      `ğŸ˜… Has acertado solo ${puntos} de ${total}... Â¡pero al menos te reÃ­ste!`;
    mensajeFinal.textContent = mensaje;
  }

  function volverMenu() {
    resultado.classList.add("hidden");
    menu.classList.remove("hidden");
  }
</script>
</body>
</html>
